# Mario Run

Windows Forms Project за предмет: Визуелно програмирање

## Опис на апликацијата

Апликацијата преставува едноставна игра во "Endless runner" жанр. Карактеристиките на ваквите игри се обично корисникот има само еден вид на внес (input) и со тоа го прави карактерот да скокни, се додека разни пречки со промелниви брзини се доближуваат кон него. 

Целта на играта е да собериш што повеќе поени, а во оваа инстанца да добиеш 50 поени.


## Упатсво

Контролите се наједноставни како и самата природа на ваквите игри.

```
'Space Bar' = Скокни (Jump)
'R' = Рестарт (Restart) 
```

## Опис на проблемот
За ваква игра иако едноставна треба да се направи добра функционалност, првично самиот скок на карактерот треба да се карактеризира со 'max jump', односно колку максимум висина може карактерот да скокне, заедно со тоа да се направи функција во зависност колку се задржува копчето за скок да зависи неговиот скок.

Следно, да се имплементира вид на тајмер, односно колку пати во секунда ќе се ажурира состојбата на играта.
Ова ќе претстави FPS (frames per second) на играта. 

Заедно со тоа да се врзи и имплементира различните пречки, на каде и како се движат и со која брзина.

Сето ова, за да се даде одлика на напредок, да се стави систем на поени и забрзување на пречките во тек на играње.

## Решение и имплементации
Воглавно најприоритетна функција и „срцето“ на играта е gameEvent() функцијата.
Таа работи со користење на timer што е сетиран на 16ms односно 60 FPS, кое ја повикува gameEvent() функцијата.

Првично имаме ажурирање на позицијата на карактерот во зависност на промелнивата jumpSp (брзина на скок) исто така и ажурирање на поените:
```c#
mario.Top += jumpSp;
label1.Text = "Points: " + score;
```
Следно имаме сите проверки и променливи што се однесуваат со скокањето на карактерот:
```c#
if (jump && jumpVel < 0) {
    jump = false;
    mario.Image = Properties.Resources.mario_run1;
}
if (jump) {
    jumpSp = -12;
    jumpVel -= 1;
}
else {
    jumpSp = 12;
}
```
Во зависност дали jump променливата е true or false, менуваме анимацијата на карактерот (дали трча, скока) и ажурираме промелнивите што диктираат брзината на скокот.

Потоа имаме foreach loop што се однесува кон пречките, односно ги наоѓа сите објекти со тагот "enemy", што оставува лесна имплементација за повеќе пречки и им дава ажурирање на нивната позиција, random вредности на spawning и проверки дали има колизија со карактерот во случај да го стопира тајмерот и да бара рестарт на играта.

```c#
foreach (Control x in this.Controls) {
    if (x is PictureBox && x.Tag == "enemy") {
        x.Left -= enemySp;

        if (x.Left + x.Width < -120) {
            x.Left = this.ClientSize.Width + rnd.Next(200, 800);
            score++;
        }

        if (mario.Bounds.IntersectsWith(x.Bounds)) {
            timer1.Stop();
            mario.Size = new System.Drawing.Size(32, 32);
            mario.Image = Properties.Resources.mario_oops;
            label1.Text = "Press R to Restart";
        }
    }
}
```
И притоа имаме уште пратењето на поените, заедно со отежнувањето т.е зголемувањето на брзината на пречките.
```c#
if (score >= 15) {
    enemySp = 15;
    if (score >= 30) {
        enemySp = 20;
    }
}

if (score == 50) {
    timer1.Stop();
    label1.Text = "Congratulations!";
}
```
## Автор

Александар Јовановски

## Лиценци
[MIT](https://github.com/vpproekt/mariorun/blob/master/LICENSE)
